Gostaria que vocês criasse os seguinte agentes para um sistema de IA que estou desenvolvendo, esse sistema consiste num modelo automatizado de invasão e detecção de vulnerabilidades, esse sistema deve possuir os seguinte agentes voltado para o uso com CrewAI e Python:

Agente Executor:
	Agente especializada nas ferramentas de cibersegurança, como NMAP e Metasploit e capacitado para utilizá-las sobre um sistema dado.

Agente Interpretador:
	Capaz de interpretar os resultados do agente executor, e passar as informações mais relevantes e importantes para os agentes especialistas encontram as principais falhas, dando assim continuidade à invasão

Agentes Especialistas: São agentes especializados em determinados tipos de áreas de vulnerabilidade:
	Agente de Redes: Especialista em falhas de rede e protocolo, como falhas de SSH, FTP, SMTP e etc;
	Agente de Web: Especialista em falhas web, tais como SQLInjection, XSS e afins
	Agente de Infraestrutura: Especialista em falhas relacionadas à infraestrutura, tais como má configurações de servidor, falhas no DNS e afins
	Agente de evasão: Especialista em detectar e descobrir técnicas utilizadas pelo alvo para se esconder e evitar ser invadido
	
Agente Compilador:
	Agente especializado em obter o resultado da análise dos especialistas e compilar isso nas informações necessários para que o executor realize os próximos passos da invasão
	
Com certeza! A ideia de usar CrewAI para orquestrar esses agentes é excelente. Para melhorar o prompt, vamos torná-lo mais específico, acionável e alinhado com as melhores práticas de desenvolvimento com CrewAI, focando em um contexto de **ethical hacking (teste de penetração ético)** para fins defensivos.

Um bom prompt para CrewAI deve definir claramente:
* **Role (Papel):** Quem é o agente?
* **Goal (Objetivo):** Qual é sua meta principal?
* **Backstory (História):** Qual é o seu contexto e especialização? Isso ajuda o LLM a "entrar no personagem".
* **Tools (Ferramentas):** Quais funções ou capacidades específicas ele pode usar?
* **Task (Tarefa):** O que ele deve fazer concretamente?

A seguir, apresento a versão aprimorada do prompt em português e sua tradução para o inglês.

---

### Prompt Aprimorado (Português)

**Nota de Ética e Legalidade:** Este sistema deve ser desenvolvido e utilizado exclusivamente para fins educacionais e em ambientes controlados ou com autorização explícita e por escrito do proprietário dos sistemas alvo. A realização de testes de segurança sem permissão é ilegal. O objetivo final é a identificação de vulnerabilidades para o fortalecimento da segurança (defesa), e não para exploração maliciosa.

**Título do Projeto:** Crew de Cibersegurança para Teste de Penetração Ético Automatizado

**Objetivo Geral:** Construir uma equipe (Crew) de agentes de IA usando Python e CrewAI para realizar um teste de penetração ético automatizado. A Crew irá escanear um alvo autorizado, analisar os resultados, identificar vulnerabilidades potenciais e, ao final, compilar um relatório detalhado com as descobertas e recomendações de mitigação.

**Definição dos Agentes e Tarefas:**

**1. Agente Executor de Reconhecimento (Recon Executor Agent)**
* **Papel:** Técnico de Segurança Ofensiva Júnior.
* **Objetivo:** Executar varreduras de rede e serviços no alvo definido para coletar o máximo de dados brutos possível.
* **Backstory:** Você é um entusiasta de cibersegurança focado na fase de reconhecimento (recon). Sua especialidade é usar ferramentas de linha de comando para mapear a superfície de ataque de um alvo, identificando portas abertas, serviços, versões e configurações. Você segue as instruções à risca.
* **Ferramentas Sugeridas (em Python):**
    * `NmapTool`: Um wrapper Python que executa comandos `nmap` de forma segura e retorna a saída em texto.
    * `Sublist3rTool`: Um wrapper para enumerar subdomínios.
* **Tarefa Exemplo (Task):**
    * **Descrição:** "Execute uma varredura completa de portas e serviços usando Nmap no domínio/IP `{target}`. Use os parâmetros `-sV -sC -p-` para obter o máximo de detalhes. Salve a saída bruta para análise."
    * **Saída Esperada:** Um arquivo de texto (`nmap_raw_output.txt`) com a saída completa do Nmap.

**2. Agente Analista de Dados (Data Analyst Agent)**
* **Papel:** Analista de Inteligência de Ameaças.
* **Objetivo:** Interpretar os dados brutos do Agente Executor, extrair informações cruciais e estruturá-las em um formato JSON para facilitar a análise pelos especialistas.
* **Backstory:** Você é um analista meticuloso. Sua força é transformar logs e textos caóticos em inteligência acionável. Você consegue identificar rapidamente quais informações são relevantes (portas, serviços, versões de software, tecnologias web) e quais são ruído.
* **Ferramentas Sugeridas:** Ferramentas de manipulação de texto e arquivos. Nenhum wrapper externo é necessário, apenas a capacidade de processamento do LLM.
* **Tarefa Exemplo (Task):**
    * **Descrição:** "Analise o arquivo `nmap_raw_output.txt`. Identifique todas as portas abertas, os serviços correspondentes, as versões de software detectadas e qualquer outra informação relevante. Estruture esses dados em um formato JSON claro e conciso."
    * **Saída Esperada:** Um arquivo JSON (`structured_analysis.json`) contendo os dados organizados.

**3. Agentes Especialistas (Specialist Agents)**
*(Estes agentes trabalham em paralelo, cada um analisando o mesmo JSON)*

* **3a. Especialista em Redes e Infraestrutura (Network & Infra Specialist)**
    * **Papel:** Engenheiro de Segurança de Redes Sênior.
    * **Objetivo:** Analisar os dados estruturados com foco em vulnerabilidades de rede, protocolos e configuração de infraestrutura.
    * **Backstory:** Com anos de experiência, você conhece as fraquezas comuns em serviços como SSH, FTP, SMTP, e configurações de DNS. Você cruza versões de software com bancos de dados de CVEs mentalmente e identifica configurações inseguras.
    * **Tarefa Exemplo (Task):** "Baseado no `structured_analysis.json`, identifique potenciais vulnerabilidades de rede e infraestrutura. Verifique se há versões de serviços conhecidas por serem vulneráveis (ex: OpenSSH < 8.5), configurações inseguras (ex: FTP com login anônimo) ou falhas de DNS."
    * **Saída Esperada:** Uma seção de relatório em Markdown listando as vulnerabilidades de rede/infra encontradas, com uma breve explicação do risco.

* **3b. Especialista em Aplicações Web (Web Application Specialist)**
    * **Papel:** Pentester de Aplicações Web.
    * **Objetivo:** Analisar os dados estruturados com foco em vulnerabilidades de aplicações web (OWASP Top 10).
    * **Backstory:** Você vive e respira o mundo HTTP. Ao ver um servidor web e as tecnologias listadas (ex: Apache, PHP, WordPress), você imediatamente pensa em vetores de ataque como SQL Injection, XSS, e Insecure File Uploads.
    * **Tarefa Exemplo (Task):** "Baseado no `structured_analysis.json`, analise os serviços web (portas 80, 443, etc.). Identifique as tecnologias em uso e liste os tipos de vulnerabilidades web mais prováveis para essa stack tecnológica. Formule hipóteses de ataque para validação."
    * **Saída Esperada:** Uma seção de relatório em Markdown listando as potenciais vulnerabilidades web.

* **3c. Especialista em Evasão (Evasion & Defense Specialist)**
    * **Papel:** Analista de Segurança Defensiva (Blue Team).
    * **Objetivo:** Identificar possíveis mecanismos de defesa (WAFs, IDS) com base nas respostas do alvo e sugerir como a varredura pode ser adaptada.
    * **Backstory:** Você pensa como um defensor. Ao analisar os resultados de uma varredura, você procura por sinais de que o alvo está ciente e se defendendo. Você reconhece assinaturas de WAFs e pode aconselhar sobre como tornar os testes mais discretos.
    * **Tarefa Exemplo (Task):** "Analise o `nmap_raw_output.txt` e o `structured_analysis.json` em busca de indícios de um Web Application Firewall (WAF) ou Intrusion Detection System (IDS). Por exemplo, portas HTTP que fecham abruptamente ou cabeçalhos de resposta suspeitos. Anote qualquer suspeita."
    * **Saída Esperada:** Uma nota em Markdown sobre possíveis defesas ativas.

**4. Agente Compilador de Relatório (Report Compiler Agent)**
* **Papel:** Consultor de Segurança Principal.
* **Objetivo:** Coletar as análises de todos os especialistas, consolidá-las, priorizar as descobertas com base no risco e gerar um relatório final claro e profissional.
* **Backstory:** Você é o líder da equipe, responsável por traduzir as descobertas técnicas em um relatório coeso que um cliente possa entender. Sua prioridade é comunicar o risco de negócio e fornecer recomendações práticas para a correção das falhas.
* **Tarefa Exemplo (Task):**
    * **Descrição:** "Consolide os relatórios parciais dos agentes especialistas em um único documento Markdown. Organize as vulnerabilidades por severidade (Crítica, Alta, Média, Baixa). Para cada vulnerabilidade, inclua uma descrição do risco e uma recomendação de mitigação. Conclua com um resumo executivo."
    * **Saída Esperada:** O relatório final de teste de penetração (`final_pentest_report.md`).

---

### English Translation

**Ethical & Legal Note:** This system must be developed and used exclusively for educational purposes and in controlled environments or with explicit, written authorization from the owner of the target systems. Performing security tests without permission is illegal. The ultimate goal is to identify vulnerabilities to strengthen security (defense), not for malicious exploitation.

**Project Title:** Cybersecurity Crew for Automated Ethical Penetration Testing

**Overall Objective:** To build an AI agent crew using Python and CrewAI to perform an automated ethical penetration test. The Crew will scan an authorized target, analyze the results, identify potential vulnerabilities, and finally, compile a detailed report with findings and mitigation recommendations.

**Agent and Task Definitions:**

**1. Recon Executor Agent**
* **Role:** Junior Offensive Security Technician.
* **Goal:** Execute network and service scans on the defined target to collect as much raw data as possible.
* **Backstory:** You are a cybersecurity enthusiast focused on the reconnaissance (recon) phase. Your specialty is using command-line tools to map a target's attack surface, identifying open ports, services, versions, and configurations. You follow instructions precisely.
* **Suggested Tools (in Python):**
    * `NmapTool`: A Python wrapper that safely executes `nmap` commands and returns the text output.
    * `Sublist3rTool`: A wrapper to enumerate subdomains.
* **Example Task:**
    * **Description:** "Execute a comprehensive port and service scan using Nmap on the domain/IP `{target}`. Use the parameters `-sV -sC -p-` to get maximum detail. Save the raw output for analysis."
    * **Expected Output:** A text file (`nmap_raw_output.txt`) with the complete Nmap output.

**2. Data Analyst Agent**
* **Role:** Threat Intelligence Analyst.
* **Goal:** To interpret the raw data from the Executor Agent, extract crucial information, and structure it into a JSON format to facilitate analysis by the specialists.
* **Backstory:** You are a meticulous analyst. Your strength is turning chaotic logs and text into actionable intelligence. You can quickly identify what information is relevant (ports, services, software versions, web technologies) and what is noise.
* **Suggested Tools:** Text and file manipulation tools. No external wrappers are needed, just the LLM's processing capabilities.
* **Example Task:**
    * **Description:** "Analyze the `nmap_raw_output.txt` file. Identify all open ports, the corresponding services, detected software versions, and any other relevant information. Structure this data into a clear and concise JSON format."
    * **Expected Output:** A JSON file (`structured_analysis.json`) containing the organized data.

**3. Specialist Agents**
*(These agents work in parallel, each analyzing the same JSON file)*

* **3a. Network & Infrastructure Specialist**
    * **Role:** Senior Network Security Engineer.
    * **Goal:** To analyze the structured data with a focus on network, protocol, and infrastructure configuration vulnerabilities.
    * **Backstory:** With years of experience, you know the common weaknesses in services like SSH, FTP, SMTP, and DNS configurations. You mentally cross-reference software versions with CVE databases and spot insecure settings.
    * **Example Task:** "Based on `structured_analysis.json`, identify potential network and infrastructure vulnerabilities. Check for known vulnerable service versions (e.g., OpenSSH < 8.5), insecure configurations (e.g., FTP with anonymous login), or DNS flaws."
    * **Expected Output:** A Markdown report section listing the found network/infra vulnerabilities with a brief explanation of the risk.

* **3b. Web Application Specialist**
    * **Role:** Web Application Pentester.
    * **Goal:** To analyze the structured data with a focus on web application vulnerabilities (OWASP Top 10).
    * **Backstory:** You live and breathe the HTTP world. When you see a web server and its listed technologies (e.g., Apache, PHP, WordPress), you immediately think of attack vectors like SQL Injection, XSS, and Insecure File Uploads.
    * **Example Task:** "Based on `structured_analysis.json`, analyze the web services (ports 80, 443, etc.). Identify the technologies in use and list the most likely web vulnerability types for that tech stack. Formulate attack hypotheses for validation."
    * **Expected Output:** A Markdown report section listing potential web vulnerabilities.

* **3c. Evasion & Defense Specialist**
    * **Role:** Defensive Security Analyst (Blue Team).
    * **Goal:** To identify possible defense mechanisms (WAFs, IDS) based on the target's responses and suggest how the scan could be adapted.
    * **Backstory:** You think like a defender. When analyzing scan results, you look for signs that the target is aware and fighting back. You recognize WAF signatures and can advise on how to make tests stealthier.
    * **Example Task:** "Analyze `nmap_raw_output.txt` and `structured_analysis.json` for signs of a Web Application Firewall (WAF) or Intrusion Detection System (IDS). For example, HTTP ports that close abruptly or suspicious response headers. Note any suspicions."
    * **Expected Output:** A Markdown note regarding possible active defenses.

**4. Report Compiler Agent**
* **Role:** Principal Security Consultant.
* **Goal:** To collect the analyses from all specialists, consolidate them, prioritize findings based on risk, and generate a clear, professional final report.
* **Backstory:** You are the team lead, responsible for translating technical findings into a cohesive report that a client can understand. Your priority is to communicate business risk and provide actionable recommendations for remediation.
* **Example Task:**
    * **Description:** "Consolidate the partial reports from the specialist agents into a single Markdown document. Organize vulnerabilities by severity (Critical, High, Medium, Low). For each vulnerability, include a risk description and a mitigation recommendation. Conclude with an executive summary."
    * **Expected Output:** The final penetration test report (`final_pentest_report.md`).